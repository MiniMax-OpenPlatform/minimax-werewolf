# 🎮 AI 狼人杀游戏使用指南

## 📱 访问游戏

打开浏览器访问：
```
http://10.43.1.247:5001/werewolf
```

## 🎯 游戏界面布局

游戏界面分为 4 个区域：

```
┌─────────────────────────────────────────────────────┐
│  游戏控制面板            │    玩家列表                │
│  (按钮、状态显示)        │    (6个玩家卡片)           │
├─────────────────────────┼──────────────────────────┤
│  玩家对话记录            │    游戏操作记录             │
│  (AI 发言在这里！)       │    (系统日志)              │
└─────────────────────────┴──────────────────────────┘
```

### 关键区域说明

1. **游戏控制面板**（左上）
   - 创建新游戏
   - 开始游戏
   - 下一阶段

2. **玩家列表**（右上）
   - 显示 6 个 AI 玩家
   - 角色图标（🐺狼人、🔮预言家、🧪女巫、👤村民）
   - 存活状态

3. **⭐ 玩家对话记录**（左下 - 重要！）
   - **这里显示所有 AI 玩家的发言**
   - 系统通知
   - 按时间倒序排列

4. **游戏操作记录**（右下）
   - 系统操作日志
   - AI 行动记录

## 📋 游戏流程

### 1. 创建游戏
点击 "创建新游戏" 按钮
- 系统自动添加 6 个 AI 玩家
- 自动分配角色

### 2. 开始游戏
点击 "开始游戏" 按钮
- 进入第 1 天夜晚阶段
- AI 玩家开始行动

### 3. 游戏阶段循环

#### 🌙 夜晚阶段（NIGHT）
- 狼人选择击杀目标
- 预言家查验玩家身份
- 女巫使用解药/毒药
- **点击"下一阶段"进入白天**

#### ☀️ 白天阶段（DAY）
- **⭐ 重点：所有存活的 AI 玩家会自动发言**
- **发言会显示在左下角的"玩家对话记录"区域**
- 每个玩家依次发言，讨论分析
- **等待所有玩家发言完成后，点击"下一阶段"进入投票**

#### 🗳️ 投票阶段（VOTING）
- 所有存活玩家投票
- 系统统计投票结果
- 票数最多的玩家被淘汰
- **点击"下一阶段"回到夜晚，进入下一轮**

## 🔍 如何查看 AI 发言

### 方法 1：在游戏界面查看
1. 进入白天阶段（DAY）
2. 点击"下一阶段"触发 AI 发言
3. 等待几秒（AI 正在思考和生成发言）
4. **在左下角"玩家对话记录"区域查看**
5. 发言格式：
   ```
   玩家1 [村民]
   我认为玩家3的发言很可疑...
   ```

### 方法 2：在操作记录中查看
右下角的"游戏操作记录"会显示：
- 💬 玩家X请求发言
- 💬 玩家X响应发言："发言内容"

### 方法 3：查看日志文件
```bash
# 查看游戏主控日志
tail -f /data1/devin/wolf/AI-Werewolf/logs/game-master-dev.log

# 查看某个玩家的详细日志
tail -f /data1/devin/wolf/AI-Werewolf/logs/player1-dev.log
```

## ⚠️ 常见问题

### Q1: 看不到 AI 发言？
**原因：**
- 可能还在夜晚或投票阶段
- AI 正在生成发言（需要几秒钟）
- 网络延迟

**解决方法：**
1. 确认当前是"白天"阶段（DAY）
2. 点击"下一阶段"后等待 10-30 秒
3. 刷新页面试试
4. 检查右下角操作记录，看是否有发言相关日志

### Q2: 发言区域是空的？
**检查步骤：**
1. 确认游戏已经开始
2. 已经进入过至少一次白天阶段
3. 查看操作记录是否有"玩家发言"相关日志
4. 按 F12 打开浏览器控制台，查看是否有错误

### Q3: AI 发言很慢？
**正常情况：**
- 每个玩家发言需要调用 AI API
- 6 个玩家依次发言，总共需要 30-60 秒
- MiniMax API 响应时间约 3-8 秒/次

### Q4: 如何重新开始游戏？
1. 点击"创建新游戏"
2. 或刷新页面重新创建

## 🎯 游戏阶段快速参考

| 阶段 | 图标 | AI 行动 | 查看位置 |
|------|------|---------|----------|
| 夜晚 | 🌙 | 狼人杀人、预言家查验、女巫用药 | 操作记录 |
| 白天 | ☀️ | **所有玩家发言讨论** | **对话记录（左下）** |
| 投票 | 🗳️ | 所有玩家投票 | 操作记录 |

## 📊 服务管理命令

### 检查服务状态
```bash
cd /data1/devin/wolf/AI-Werewolf
bash check-status.sh
```

### 重启所有服务
```bash
# 重启 AI 玩家
bash restart-all-players.sh

# 重启游戏主界面
bash restart-game-master.sh
```

### 查看实时日志
```bash
# 查看所有玩家发言
tail -f logs/player*-dev.log | grep "said:"

# 查看游戏阶段变化
tail -f logs/game-master-dev.log | grep "phase"
```

## 🎮 开始游戏吧！

现在你知道如何查看 AI 发言了：
1. 访问 http://10.43.1.247:5001/werewolf
2. 创建并开始游戏
3. 点击"下一阶段"切换到白天
4. **在左下角"玩家对话记录"查看 AI 精彩发言！**

祝你游戏愉快！🐺
